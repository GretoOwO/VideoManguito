<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Para Ti - Reproductor Rom√°ntico</title>
  <meta name="description" content="Un reproductor musical rom√°ntico con tres canciones especiales dedicadas a ti. Dise√±o elegante con t√≠tulos ocultos para mayor sorpresa.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ù§Ô∏è</text></svg>">
  
  <!-- Tipograf√≠a y recursos externos -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;500;600;700&family=Caveat:wght@400;500;600;700&family=Dancing+Script:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* 
     * ===========================================================
     * VARIABLES DE ESTILO Y PALETA DE COLORES ROM√ÅNTICOS MEJORADAS
     * Paleta ampliada con m√°s matices y transiciones suaves
     * ===========================================================
     */
    :root {
      /* Colores principales ampliados */
      --deep-rose: #ff4d8d;
      --blush-pink: #ff9ec5;
      --darker-rose: #e63972;
      --midnight-blue: #0a1122;
      --deep-navy: #050a16;
      --soft-lavender: #e0c0ff;
      --lavender-mist: #d0b0f0;
      --warm-amber: #ffc86a;
      --golden-glow: #ffda85;
      --icy-blue: #a0d8f0;
      --sky-teal: #88d0e0;
      --golden-hour: #ffd700;
      --velvet-purple: #2a0a3a;
      --rich-purple: #3a1a5a;
      --dusty-rose: #d4a6b1;
      --rose-quartz: #e8c0c8;
      --champagne: #f7f0e6;
      --pearl-white: #fdf6e3;
      
      /* Degradados adicionales */
      --gradient-primary: linear-gradient(135deg, var(--deep-rose), var(--blush-pink), var(--warm-amber));
      --gradient-secondary: linear-gradient(145deg, var(--velvet-purple), var(--midnight-blue), var(--deep-navy));
      --gradient-accent: linear-gradient(90deg, var(--warm-amber), var(--golden-hour), var(--icy-blue));
      
      /* Variables de fondo mejoradas */
      --bg-primary: #0a0f1a;
      --bg-secondary: #121a28;
      --bg-card: #0f1624;
      --bg-player: #070c18;
      --bg-playlist: #0d1422;
      --bg-overlay: rgba(5, 8, 18, 0.92);
      
      /* Variables de texto mejoradas */
      --text-primary: #ffffff;
      --text-secondary: #c5d0e6;
      --text-muted: #8a9ab0;
      --text-accent: var(--deep-rose);
      --text-glow: rgba(255, 77, 141, 0.7);
      
      /* Variables de interfaz mejoradas */
      --border-radius-sm: 8px;
      --border-radius-md: 12px;
      --border-radius-lg: 16px;
      --border-radius-xl: 24px;
      --border-radius-xxl: 32px;
      --transition-base: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      --transition-smooth: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
      --box-shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.15);
      --box-shadow-md: 0 8px 25px rgba(0, 0, 0, 0.25);
      --box-shadow-lg: 0 15px 40px rgba(0, 0, 0, 0.4);
      --box-shadow-xlg: 0 25px 60px rgba(0, 0, 0, 0.6);
      
      /* Animaciones y efectos mejorados */
      --pulse-duration: 2s;
      --float-duration: 8s;
      --glow-duration: 3s;
      --sparkle-duration: 4s;
      --fade-duration: 1.2s;
      --breathe-duration: 8s;
      
      /* Audio visualizer colors */
      --viz-color-1: #ff4d8d;
      --viz-color-2: #ff9ec5;
      --viz-color-3: #ffc86a;
      --viz-color-4: #a0d8f0;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    html {
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    
    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      background: radial-gradient(circle at 10% 20%, rgba(75, 0, 130, 0.15) 0%, rgba(10, 17, 34, 0.95) 65%, rgba(5, 8, 18, 1) 100%),
                  linear-gradient(135deg, rgba(30, 5, 60, 0.4) 0%, rgba(10, 15, 35, 0.8) 100%);
      color: var(--text-secondary);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
      transition: var(--transition-base);
      background-attachment: fixed;
    }
    
    /* Part√≠culas de fondo adicionales - estrellas */
    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(1px 1px at 20px 30px, rgba(255, 255, 255, 0.15), transparent),
        radial-gradient(1px 1px at 50px 70px, rgba(255, 255, 255, 0.1), transparent),
        radial-gradient(2px 2px at 80px 40px, rgba(255, 215, 0, 0.1), transparent),
        radial-gradient(1px 1px at 110px 90px, rgba(160, 216, 240, 0.1), transparent);
      background-size: 100px 100px;
      z-index: -3;
      opacity: 0.6;
      pointer-events: none;
    }
    
    /* Patr√≥n de fondo con corazones sutiles mejorado */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(circle, rgba(255, 77, 141, 0.04) 1px, transparent 1px),
        radial-gradient(circle, rgba(255, 158, 197, 0.03) 1px, transparent 1px),
        radial-gradient(circle, rgba(255, 200, 106, 0.02) 1px, transparent 1px);
      background-size: 45px 45px, 55px 55px, 70px 70px;
      background-position: 0 0, 25px 25px, 35px 35px;
      z-index: -2;
      opacity: 0.8;
      pointer-events: none;
    }
    
    .wrap {
      width: 100%;
      max-width: 1200px;
      background: var(--gradient-secondary);
      backdrop-filter: blur(12px);
      border-radius: var(--border-radius-xl);
      padding: 32px;
      box-shadow: var(--box-shadow-xlg),
                  0 0 60px rgba(255, 77, 141, 0.2),
                  inset 0 0 40px rgba(0, 0, 0, 0.4);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.08);
      z-index: 10;
      transition: var(--transition-base);
      background-clip: padding-box;
    }
    
    .wrap::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 122, 182, 0.1) 0%, transparent 70%);
      z-index: -1;
      animation: rotate 30s linear infinite;
    }
    
    .wrap::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 50%;
      background: linear-gradient(to top, var(--deep-navy), transparent);
      z-index: -1;
    }
    
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    /* Part√≠culas animadas (corazones) mejoradas */
    .heart {
      position: absolute;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      transform: rotate(45deg);
      background: var(--gradient-primary);
      box-shadow: 0 0 15px rgba(255, 77, 141, 0.6),
                  0 0 30px rgba(255, 158, 197, 0.3);
      opacity: 0.85;
      z-index: 1;
      animation-timing-function: ease-in-out;
      animation-iteration-count: infinite;
      filter: drop-shadow(0 0 5px var(--deep-rose));
    }
    
    /* Corazones adicionales para m√°s movimiento */
    .h1 {
      left: 6%;
      top: 10%;
      animation: float1 var(--float-duration) infinite;
      width: 10px;
      height: 10px;
      opacity: 0.7;
    }
    
    .h2 {
      left: 85%;
      top: 22%;
      width: 18px;
      height: 18px;
      animation: float2 calc(var(--float-duration) + 2s) infinite;
      opacity: 0.9;
    }
    
    .h3 {
      left: 20%;
      top: 78%;
      animation: float3 calc(var(--float-duration) - 1s) infinite;
      width: 12px;
      height: 12px;
      opacity: 0.8;
    }
    
    .h4 {
      left: 70%;
      top: 68%;
      width: 16px;
      height: 16px;
      animation: float1 calc(var(--float-duration) + 3s) infinite;
      opacity: 0.85;
    }
    
    .h5 {
      left: 40%;
      top: 15%;
      width: 8px;
      height: 8px;
      animation: float2 calc(var(--float-duration) - 3s) infinite;
      opacity: 0.6;
    }
    
    .h6 {
      left: 10%;
      bottom: 12%;
      width: 20px;
      height: 20px;
      animation: float3 calc(var(--float-duration) + 5s) infinite;
      opacity: 0.75;
    }
    
    /* Nuevos elementos decorativos */
    .rose-petal {
      position: absolute;
      opacity: 0.15;
      z-index: 0;
      filter: blur(1px);
    }
    
    .petal-1 {
      top: 5%;
      left: 3%;
      font-size: 3rem;
      transform: rotate(-25deg);
      color: var(--blush-pink);
    }
    
    .petal-2 {
      bottom: 8%;
      right: 4%;
      font-size: 4rem;
      transform: rotate(15deg);
      color: var(--deep-rose);
    }
    
    .date-badge {
      position: absolute;
      bottom: 15px;
      right: 15px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--warm-amber);
      padding: 4px 10px;
      border-radius: 20px;
      font-family: 'Caveat', cursive;
      font-size: 0.9rem;
      z-index: 5;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    }
    
    /* Cabecera mejorada con m√°s detalles */
    header {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: 25px 0 35px;
      position: relative;
      z-index: 5;
      margin-bottom: 15px;
    }
    
    header::before, header::after {
      content: "";
      position: absolute;
      width: 100px;
      height: 3px;
      background: var(--gradient-primary);
      top: 50%;
      opacity: 0.7;
      border-radius: 3px;
    }
    
    header::before {
      left: 3%;
      transform: rotate(-5deg);
    }
    
    header::after {
      right: 3%;
      transform: rotate(5deg);
    }
    
    .dedication {
      font-family: 'Dancing Script', cursive;
      font-size: 1.5rem;
      color: var(--lavender-mist);
      margin-bottom: 15px;
      opacity: 0.9;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    
    h1 {
      font-family: 'Great Vibes', cursive;
      color: transparent;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      background-clip: text;
      margin: 0;
      font-size: 4.8rem;
      letter-spacing: 1.5px;
      text-shadow: 0 3px 15px rgba(255, 77, 141, 0.3);
      position: relative;
      z-index: 2;
      animation: glow 3s ease-in-out infinite alternate;
      filter: drop-shadow(0 0 10px rgba(255, 77, 141, 0.2));
    }
    
    h1::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 3px;
      background: var(--gradient-primary);
      border-radius: 3px;
    }
    
    .subtitle {
      font-family: 'Caveat', cursive;
      color: var(--warm-amber);
      font-size: 2rem;
      margin-top: 10px;
      opacity: 0.95;
      letter-spacing: 0.8px;
      text-shadow: 0 2px 8px rgba(255, 200, 106, 0.3);
    }
    
    p.lead {
      margin: 18px 0 0;
      color: var(--text-secondary);
      font-size: 1.25rem;
      max-width: 750px;
      line-height: 1.8;
      opacity: 0.9;
      position: relative;
      z-index: 2;
      padding: 15px;
      background: rgba(10, 15, 30, 0.3);
      border-radius: var(--border-radius-md);
      border: 1px solid rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(5px);
      box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.3);
    }
    
    p.lead span {
      color: var(--text-accent);
      font-weight: 700;
      position: relative;
    }
    
    p.lead span::after {
      content: "";
      position: absolute;
      bottom: 3px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--gradient-primary);
      opacity: 0.5;
      border-radius: 2px;
    }
    
    .player-area {
      display: flex;
      gap: 30px;
      margin-top: 10px;
      align-items: flex-start;
      position: relative;
      z-index: 5;
    }
    
    /* Tarjeta del reproductor mejorada */
    .player-card {
      flex: 1;
      background: linear-gradient(145deg, rgba(25, 35, 65, 0.85), rgba(15, 25, 50, 0.95));
      border-radius: var(--border-radius-lg);
      padding: 25px;
      box-shadow: var(--box-shadow-lg),
                  0 0 35px rgba(255, 77, 141, 0.2),
                  inset 0 0 20px rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
      transition: var(--transition-base);
      backdrop-filter: blur(8px);
    }
    
    .player-card::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 77, 141, 0.07) 0%, transparent 70%);
      z-index: -1;
      animation: rotate 40s linear infinite reverse;
    }
    
    .player-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(45deg, transparent 40%, rgba(30, 10, 40, 0.15));
      z-index: -1;
    }
    
    .player-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--box-shadow-xlg),
                  0 0 45px rgba(255, 77, 141, 0.3),
                  inset 0 0 25px rgba(0, 0, 0, 0.5);
      border-color: rgba(255, 77, 141, 0.3);
    }
    
    .now-playing {
      text-align: center;
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.25);
      border-radius: var(--border-radius-md);
      border: 1px solid rgba(255, 255, 255, 0.08);
      position: relative;
      overflow: hidden;
    }
    
    .now-playing::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--gradient-primary);
    }
    
    .now-playing-title {
      font-family: 'Caveat', cursive;
      font-size: 2.4rem;
      color: var(--warm-amber);
      margin: 5px 0 8px;
      text-shadow: 0 0 15px rgba(255, 200, 106, 0.5);
      position: relative;
      animation: breathe 8s infinite;
    }
    
    .now-playing-subtitle {
      color: var(--soft-lavender);
      font-size: 1.15rem;
      opacity: 0.9;
      font-style: italic;
      max-width: 80%;
      margin: 0 auto;
      line-height: 1.6;
    }
    
    /* Audio visualizer */
    .audio-visualizer {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 30px;
      gap: 3px;
      margin: 15px 0;
      opacity: 0.9;
    }
    
    .viz-bar {
      width: 6px;
      height: 100%;
      background: var(--viz-color-1);
      border-radius: 3px;
      transition: height 0.1s ease;
      box-shadow: 0 0 8px var(--viz-color-1);
    }
    
    .viz-bar:nth-child(2) { background: var(--viz-color-2); box-shadow: 0 0 8px var(--viz-color-2); }
    .viz-bar:nth-child(3) { background: var(--viz-color-3); box-shadow: 0 0 8px var(--viz-color-3); }
    .viz-bar:nth-child(4) { background: var(--viz-color-4); box-shadow: 0 0 8px var(--viz-color-4); }
    .viz-bar:nth-child(5) { background: var(--viz-color-1); box-shadow: 0 0 8px var(--viz-color-1); }
    .viz-bar:nth-child(6) { background: var(--viz-color-2); box-shadow: 0 0 8px var(--viz-color-2); }
    .viz-bar:nth-child(7) { background: var(--viz-color-3); box-shadow: 0 0 8px var(--viz-color-3); }
    
    /* Envoltorio del reproductor de YouTube mejorado */
    .player-wrap {
      position: relative;
      border-radius: var(--border-radius-lg);
      overflow: hidden;
      background: var(--bg-player);
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.6),
                  inset 0 0 20px rgba(0, 0, 0, 0.8);
      height: 0;
      padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
      transition: var(--transition-base);
      border: 1px solid rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(2px);
    }
    
    .player-wrap:hover {
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7),
                  inset 0 0 25px rgba(0, 0, 0, 0.9),
                  0 0 25px rgba(255, 77, 141, 0.2);
    }
    
    iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
      transition: opacity 0.3s ease;
      filter: brightness(1.05);
    }
    
    iframe.loading {
      opacity: 0.3;
    }
    
    .loading-spinner {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 255, 255, 0.15);
      border-top: 4px solid var(--deep-rose);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      z-index: 10;
      display: none;
      box-shadow: 0 0 20px rgba(255, 77, 141, 0.4);
    }
    
    .loading-spinner::after {
      content: "";
      position: absolute;
      inset: -8px;
      border: 2px solid transparent;
      border-top-color: var(--blush-pink);
      border-radius: 50%;
      animation: spin 1.5s linear infinite reverse;
    }
    
    .loading-spinner.show {
      display: block;
    }
    
    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }
    
    /* Cubiertas para ocultar t√≠tulos y logotipos mejoradas */
    .cover-title {
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      height: 90px;
      z-index: 6;
      pointer-events: none;
      background: linear-gradient(180deg, rgba(6, 6, 6, 0.98), transparent 80%);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid rgba(255, 77, 141, 0.1);
    }
    
    .cover-logo {
      position: absolute;
      right: 15px;
      top: 15px;
      width: 135px;
      height: 42px;
      z-index: 7;
      border-radius: 12px;
      background: linear-gradient(145deg, rgba(40, 25, 60, 0.9), rgba(25, 15, 45, 0.95));
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6),
                  inset 0 0 15px rgba(0, 0, 0, 0.7);
      pointer-events: none;
      backdrop-filter: blur(3px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      animation: pulse 4s infinite;
    }
    
    /* Barra de progreso de la canci√≥n mejorada */
    .progress-container {
      margin: 25px 0 20px;
      position: relative;
    }
    
    .progress-bar {
      height: 10px;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 5px;
      cursor: pointer;
      overflow: hidden;
      position: relative;
      box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      border-radius: 5px;
      width: 0%;
      transition: width 0.1s linear;
      position: relative;
      box-shadow: 0 0 15px rgba(255, 77, 141, 0.6);
      background-size: 200% 200%;
      animation: gradientShift 3s ease infinite;
    }
    
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .progress-fill::after {
      content: "";
      position: absolute;
      right: -8px;
      top: -4px;
      width: 16px;
      height: 16px;
      background: var(--text-primary);
      border-radius: 50%;
      border: 3px solid var(--deep-rose);
      box-shadow: 0 0 10px rgba(255, 77, 141, 0.9),
                  0 0 20px rgba(255, 215, 0, 0.4);
      animation: pulse 1.5s infinite;
    }
    
    .time-display {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      font-size: 1rem;
      color: var(--soft-lavender);
      font-weight: 500;
      letter-spacing: 0.5px;
    }
    
    /* Controles de reproducci√≥n mejorados */
    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 14px;
      align-items: center;
      padding: 18px 0 15px;
      position: relative;
    }
    
    .controls::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 85%;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255, 77, 141, 0.3), transparent);
    }
    
    .btn {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.12);
      color: var(--text-secondary);
      padding: 12px 20px;
      border-radius: 55px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1.05rem;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: var(--transition-smooth);
      backdrop-filter: blur(6px);
      position: relative;
      overflow: hidden;
      z-index: 1;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25);
    }
    
    .btn::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.06);
      z-index: -1;
      transition: var(--transition-base);
    }
    
    .btn::after {
      content: "";
      position: absolute;
      inset: 1px;
      background: linear-gradient(145deg, rgba(20, 25, 45, 0.95), rgba(10, 15, 30, 0.95));
      border-radius: 54px;
      z-index: -1;
    }
    
    .btn:hover::before {
      background: rgba(255, 255, 255, 0.15);
    }
    
    .btn:active {
      transform: translateY(1px);
      opacity: 0.95;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    .btn i {
      font-size: 1.2rem;
      min-width: 22px;
      text-align: center;
      transition: var(--transition-base);
    }
    
    .btn:hover i {
      transform: scale(1.1);
    }
    
    .btn.primary {
      background: var(--gradient-primary);
      border: none;
      color: white;
      box-shadow: 0 6px 25px rgba(255, 77, 141, 0.4);
      position: relative;
      overflow: visible;
    }
    
    .btn.primary::before {
      content: "";
      position: absolute;
      inset: -2px;
      background: var(--gradient-primary);
      border-radius: 57px;
      z-index: -1;
      opacity: 0.8;
      animation: pulse 2s infinite;
    }
    
    .btn.primary:hover {
      box-shadow: 0 8px 30px rgba(255, 77, 141, 0.55);
      transform: translateY(-3px);
    }
    
    .btn.primary::after {
      content: "";
      position: absolute;
      inset: 2px;
      background: linear-gradient(145deg, rgba(255, 100, 160, 0.9), rgba(255, 158, 197, 0.9));
      border-radius: 53px;
      z-index: -1;
    }
    
    .volume-control {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-left: auto;
      padding: 6px 0;
    }
    
    .volume-icon {
      color: var(--text-secondary);
      font-size: 1.2rem;
      min-width: 26px;
      text-align: center;
      transition: var(--transition-base);
    }
    
    .volume-icon.active {
      color: var(--warm-amber);
      text-shadow: 0 0 10px rgba(255, 200, 106, 0.5);
    }
    
    .slider {
      width: 130px;
      height: 6px;
      -webkit-appearance: none;
      background: linear-gradient(90deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.15));
      border-radius: 3px;
      outline: none;
      transition: var(--transition-base);
      position: relative;
      box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }
    
    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--gradient-primary);
      cursor: pointer;
      box-shadow: 0 0 12px rgba(255, 77, 141, 0.8),
                  0 0 25px rgba(255, 215, 0, 0.3);
      transition: var(--transition-smooth);
      border: 3px solid white;
    }
    
    .slider::-moz-range-thumb {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--gradient-primary);
      cursor: pointer;
      border: none;
      box-shadow: 0 0 12px rgba(255, 77, 141, 0.8),
                  0 0 25px rgba(255, 215, 0, 0.3);
      border: 3px solid white;
    }
    
    .slider:hover::-webkit-slider-thumb {
      transform: scale(1.15) rotate(5deg);
      box-shadow: 0 0 18px rgba(255, 77, 141, 0.9),
                  0 0 35px rgba(255, 215, 0, 0.5);
    }
    
    /* Lista de reproducci√≥n mejorada */
    .playlist {
      width: 360px;
      max-width: 40%;
      display: flex;
      flex-direction: column;
      gap: 14px;
      background: linear-gradient(145deg, rgba(25, 35, 65, 0.75), rgba(15, 25, 50, 0.85));
      border-radius: var(--border-radius-lg);
      padding: 25px;
      box-shadow: var(--box-shadow-md),
                  0 0 30px rgba(160, 216, 240, 0.15),
                  inset 0 0 15px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.08);
      position: relative;
      overflow: hidden;
      transition: var(--transition-base);
      backdrop-filter: blur(5px);
    }
    
    .playlist::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: var(--gradient-primary);
    }
    
    .playlist::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--gradient-accent);
    }
    
    .playlist-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
      padding-bottom: 14px;
      border-bottom: 2px solid rgba(255, 77, 141, 0.2);
    }
    
    .playlist-title {
      font-family: 'Caveat', cursive;
      font-size: 2rem;
      color: var(--warm-amber);
      letter-spacing: 0.8px;
      position: relative;
    }
    
    .playlist-title::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 50px;
      height: 2px;
      background: var(--gradient-primary);
      border-radius: 2px;
    }
    
    .memory-counter {
      background: rgba(0, 0, 0, 0.3);
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.9rem;
      color: var(--icy-blue);
      border: 1px solid rgba(160, 216, 240, 0.3);
    }
    
    .track {
      display: flex;
      gap: 16px;
      align-items: center;
      padding: 16px;
      border-radius: var(--border-radius-md);
      background: rgba(10, 15, 30, 0.65);
      border: 1px solid rgba(255, 255, 255, 0.07);
      cursor: pointer;
      transition: var(--transition-smooth);
      position: relative;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    }
    
    .track:hover {
      background: rgba(35, 30, 60, 0.75);
      transform: translateX(6px);
      border-color: rgba(255, 77, 141, 0.4);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3),
                  0 0 15px rgba(255, 77, 141, 0.15);
    }
    
    .track.active {
      outline: 2px solid rgba(255, 77, 141, 0.4);
      background: rgba(45, 25, 50, 0.75);
      border-color: rgba(255, 77, 141, 0.6);
      box-shadow: 0 0 20px rgba(255, 77, 141, 0.3);
      transform: translateX(0);
    }
    
    .track.active::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: var(--gradient-primary);
    }
    
    .thumb {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      background: var(--gradient-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      color: #2a0a2a;
      font-size: 1.6rem;
      flex-shrink: 0;
      box-shadow: 0 6px 20px rgba(255, 77, 141, 0.5),
                  0 0 15px rgba(255, 215, 0, 0.3);
      border: 3px solid rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
      transition: var(--transition-smooth);
    }
    
    .thumb::before {
      content: "";
      position: absolute;
      inset: -2px;
      background: var(--gradient-primary);
      border-radius: 50%;
      z-index: -1;
      opacity: 0.8;
      animation: pulse 3s infinite;
    }
    
    .thumb::after {
      content: "";
      position: absolute;
      top: -60%;
      left: -60%;
      width: 220%;
      height: 220%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
      transform: rotate(30deg);
    }
    
    .meta {
      flex: 1;
      min-width: 0;
    }
    
    .title {
      font-weight: 700;
      color: var(--text-primary);
      font-size: 1.25rem;
      margin-bottom: 6px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      position: relative;
      transition: var(--transition-base);
    }
    
    .track:hover .title {
      color: var(--warm-amber);
      white-space: normal;
      animation: fadeIn 0.3s ease;
    }
    
    .sub {
      font-size: 1.05rem;
      color: var(--text-muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      transition: var(--transition-base);
      line-height: 1.5;
    }
    
    .track:hover .sub {
      color: var(--soft-lavender);
      white-space: normal;
    }
    
    .duration {
      color: var(--warm-amber);
      font-weight: 600;
      min-width: 50px;
      text-align: right;
      font-size: 1.05rem;
      position: relative;
    }
    
    .track.active .duration {
      color: var(--text-primary);
      text-shadow: 0 0 8px rgba(255, 77, 141, 0.6);
    }
    
    /* Letras de canciones mejoradas */
    .lyrics-container {
      margin-top: 25px;
      background: rgba(12, 18, 35, 0.8);
      border-radius: var(--border-radius-md);
      padding: 25px;
      border: 1px solid rgba(255, 77, 141, 0.2);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4),
                  inset 0 0 15px rgba(255, 200, 106, 0.1);
      position: relative;
      overflow: hidden;
      max-height: 0;
      opacity: 0;
      transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
      backdrop-filter: blur(5px);
    }
    
    .lyrics-container.show {
      max-height: 400px;
      opacity: 1;
      margin-top: 20px;
    }
    
    .lyrics-container::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--gradient-accent);
    }
    
    .lyrics-container::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--gradient-primary);
    }
    
    .lyrics-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .lyrics-title {
      font-family: 'Dancing Script', cursive;
      font-size: 1.9rem;
      color: var(--icy-blue);
      letter-spacing: 1px;
      position: relative;
    }
    
    .lyrics-title::after {
      content: "";
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 80px;
      height: 2px;
      background: var(--sky-teal);
      border-radius: 2px;
    }
    
    .lyrics-content {
      color: var(--pearl-white);
      line-height: 1.9;
      font-size: 1.25rem;
      font-style: italic;
      text-align: center;
      padding: 0 15px;
      max-height: 250px;
      overflow-y: auto;
      font-family: 'Caveat', cursive;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      position: relative;
    }
    
    .lyrics-content::before, .lyrics-content::after {
      content: """;
      font-family: 'Great Vibes', cursive;
      font-size: 4rem;
      color: rgba(255, 215, 0, 0.3);
      position: absolute;
      opacity: 0.7;
    }
    
    .lyrics-content::before {
      top: -20px;
      left: 15px;
    }
    
    .lyrics-content::after {
      bottom: -40px;
      right: 15px;
      transform: rotate(180deg);
    }
    
    .lyrics-content::-webkit-scrollbar {
      width: 8px;
    }
    
    .lyrics-content::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.25);
      border-radius: 4px;
    }
    
    .lyrics-content::-webkit-scrollbar-thumb {
      background: var(--gradient-primary);
      border-radius: 4px;
      border: 2px solid rgba(0, 0, 0, 0.3);
    }
    
    /* Pie de p√°gina mejorado */
    footer {
      margin-top: 30px;
      color: var(--text-muted);
      font-size: 1rem;
      text-align: center;
      line-height: 1.7;
      padding: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      max-width: 850px;
      margin-left: auto;
      margin-right: auto;
      background: rgba(5, 8, 18, 0.3);
      border-radius: var(--border-radius-md);
      backdrop-filter: blur(5px);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    }
    
    footer p {
      margin: 8px 0;
    }
    
    footer a {
      color: var(--text-accent);
      text-decoration: none;
      font-weight: 600;
      transition: var(--transition-base);
      position: relative;
      padding-bottom: 2px;
    }
    
    footer a::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 1px;
      background: var(--gradient-primary);
      transition: var(--transition-base);
    }
    
    footer a:hover {
      color: var(--blush-pink);
      text-shadow: 0 0 10px rgba(255, 77, 141, 0.6);
    }
    
    footer a:hover::after {
      width: 100%;
    }
    
    /* Bot√≥n de acci√≥n flotante mejorado */
    .fab {
      position: fixed;
      bottom: 35px;
      right: 35px;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: var(--gradient-primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.6rem;
      box-shadow: 0 6px 30px rgba(255, 77, 141, 0.6),
                  0 0 20px rgba(255, 215, 0, 0.4);
      cursor: pointer;
      z-index: 100;
      transition: var(--transition-smooth);
      border: none;
      outline: none;
      animation: heartbeat 2s infinite;
    }
    
    .fab:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 8px 35px rgba(255, 77, 141, 0.7),
                  0 0 25px rgba(255, 215, 0, 0.5);
    }
    
    .fab i {
      animation: pulse 2s infinite;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    }
    
    @keyframes heartbeat {
      0% { transform: scale(1); }
      14% { transform: scale(1.1); }
      28% { transform: scale(1); }
      42% { transform: scale(1.1); }
      70% { transform: scale(1); }
    }
    
    /* Notificaci√≥n mejorada */
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: rgba(30, 40, 70, 0.98);
      color: white;
      padding: 15px 30px;
      border-radius: 60px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5),
                  0 0 20px rgba(255, 77, 141, 0.3);
      border: 2px solid var(--deep-rose);
      z-index: 1000;
      transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.4s ease;
      opacity: 0;
      display: flex;
      align-items: center;
      gap: 15px;
      backdrop-filter: blur(10px);
      font-family: 'Caveat', cursive;
      font-size: 1.1rem;
    }
    
    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }
    
    .toast i {
      font-size: 1.4rem;
      color: var(--warm-amber);
      text-shadow: 0 0 10px rgba(255, 200, 106, 0.6);
    }
    
    /* Dise√±o responsivo mejorado */
    @media (max-width: 1050px) {
      .player-area {
        flex-direction: column;
      }
      
      .playlist {
        width: 100%;
        max-width: none;
        order: 2;
      }
      
      .player-card {
        order: 1;
      }
      
      .moon {
        display: none;
      }
    }
    
    @media (max-width: 768px) {
      .wrap {
        padding: 20px 15px;
        border-radius: var(--border-radius-lg);
      }
      
      h1 {
        font-size: 3.5rem;
      }
      
      .subtitle {
        font-size: 1.6rem;
      }
      
      .player-wrap {
        padding-bottom: 60%;
      }
      
      .controls {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
      }
      
      .volume-control {
        margin-left: 0;
        width: 100%;
        justify-content: center;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
      
      .thumb {
        width: 60px;
        height: 60px;
        font-size: 1.4rem;
      }
      
      .playlist {
        padding: 20px 15px;
      }
      
      .fab {
        width: 60px;
        height: 60px;
        font-size: 1.4rem;
        bottom: 25px;
        right: 25px;
      }
    }
    
    @media (max-width: 480px) {
      h1 {
        font-size: 2.9rem;
      }
      
      .subtitle {
        font-size: 1.4rem;
      }
      
      p.lead {
        font-size: 1rem;
        padding: 12px;
      }
      
      .thumb {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }
      
      .title {
        font-size: 1.1rem;
      }
      
      .sub {
        font-size: 0.95rem;
      }
      
      .now-playing-title {
        font-size: 2rem;
      }
      
      .player-wrap {
        padding-bottom: 65%;
      }
      
      .fab {
        width: 55px;
        height: 55px;
        font-size: 1.3rem;
      }
      
      .moon, .rose-petal {
        display: none;
      }
      
      .date-badge {
        font-size: 0.8rem;
        padding: 3px 8px;
      }
    }
    
    /* Animaciones adicionales */
    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.03); }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 77, 141, 0.4); }
      70% { box-shadow: 0 0 0 15px rgba(255, 77, 141, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 77, 141, 0); }
    }
    
    /* Efecto de texto mecanografiado */
    .typewriter {
      overflow: hidden;
      border-right: 3px solid var(--deep-rose);
      white-space: nowrap;
      margin: 0 auto;
      animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
    }
    
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    
    @keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: var(--deep-rose); }
    }
  </style>
</head>
<body>
  <!-- Elementos decorativos adicionales -->
  <div class="moon">‚òæ</div>
  
  <div class="rose-petal petal-1">‚úø</div>
  <div class="rose-petal petal-2">‚ùÄ</div>
  
  <div class="date-badge">
    <i class="fas fa-heart"></i> Nuestro momento especial
  </div>
  
  <div class="wrap">
    <!-- Part√≠culas animadas (corazones) mejoradas -->
    <div class="heart h1"></div>
    <div class="heart h2"></div>
    <div class="heart h3"></div>
    <div class="heart h4"></div>
    <div class="heart h5"></div>
    <div class="heart h6"></div>
    
    <!-- Cabecera mejorada con dedicatoria -->
    <header>
      <div class="dedication">Para la persona que ilumina mis d√≠as</div>
      <h1>Para Ti</h1>
      <div class="subtitle">Tres Momentos Especiales</div>
      <p class="lead">
        <span>Una selecci√≥n √≠ntima de tres canciones</span> creada con todo mi coraz√≥n, con t√≠tulos ocultos para que cada momento sea una sorpresa que descubrir juntos üíñ
      </p>
    </header>
    
    <div class="player-area">
      <!-- Tarjeta del reproductor mejorada -->
      <div class="player-card">
        <!-- Secci√≥n "Now Playing" mejorada -->
        <div class="now-playing">
          <div class="now-playing-title typewriter" id="currentTitle">Dedicada a ella</div>
          <div class="now-playing-subtitle" id="currentSubtitle">A la chica m√°s linda, la que merece cada verso y cada suspiro.</div>
        </div>
        
        <!-- Visualizador de audio -->
        <div class="audio-visualizer">
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
          <div class="viz-bar"></div>
        </div>
        
        <!-- Contenedor del reproductor mejorado -->
        <div class="player-wrap">
          <div class="loading-spinner" id="loadingSpinner"></div>
          <iframe id="playerFrame" src="https://www.youtube.com/embed/kPa7bsKwL-c?enablejsapi=1&controls=0" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>
          
          <!-- Cubiertas para ocultar t√≠tulo y logo mejoradas -->
          <div class="cover-title" aria-hidden="true"></div>
          <div class="cover-logo" aria-hidden="true"></div>
        </div>
        
        <!-- Barra de progreso mejorada -->
        <div class="progress-container">
          <div class="progress-bar" id="progressBar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <div class="time-display">
            <span id="currentTime">0:00</span>
            <span id="duration">3:45</span>
          </div>
        </div>
        
        <!-- Controles mejorados -->
        <div class="controls">
          <button class="btn" id="prev" title="Canci√≥n anterior">
            <i class="fas fa-step-backward"></i>
          </button>
          <button class="btn primary pulse-animation" id="play" title="Reproducir">
            <i class="fas fa-play"></i> <span>Reproducir</span>
          </button>
          <button class="btn" id="pause" title="Pausar">
            <i class="fas fa-pause"></i> <span>Pausar</span>
          </button>
          <button class="btn" id="next" title="Siguiente canci√≥n">
            <i class="fas fa-step-forward"></i>
          </button>
          
          <div class="volume-control">
            <span class="volume-icon" id="volumeIcon">
              <i class="fas fa-volume-up"></i>
            </span>
            <input id="volume" class="slider" type="range" min="0" max="100" value="75" aria-label="Control de volumen" />
          </div>
        </div>
        
        <!-- Letras de las canciones mejoradas -->
        <div class="lyrics-container" id="lyricsContainer">
          <div class="lyrics-header">
            <div class="lyrics-title" id="lyricsTitle">Letra de la canci√≥n</div>
            <button class="btn" id="closeLyrics" title="Cerrar letras">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="lyrics-content" id="lyricsContent">
            <!-- Letra se cargar√° din√°micamente -->
          </div>
        </div>
      </div>
      
      <!-- Lista de reproducci√≥n mejorada con contador de memoria -->
      <div class="playlist" id="playlist">
        <div class="playlist-header">
          <div class="playlist-title">Nuestras Canciones</div>
          <div class="memory-counter">
            <i class="fas fa-music"></i> 3 momentos especiales
          </div>
        </div>
        
        <!-- Primera canci√≥n: Dedicada a ella -->
        <div class="track active" 
             data-src="https://www.youtube.com/embed/kPa7bsKwL-c?enablejsapi=1&controls=0" 
             data-title="Dedicada a ella" 
             data-subtitle="A la chica m√°s linda, la que merece cada verso y cada suspiro."
             data-duration="3:45"
             data-lyrics="A ti, que apareces en mis pensamientos como una luz c√°lida: esta canci√≥n es una peque√±a ofrenda. Cada nota te nombra en secreto, cada palabra quiere cuidar lo que eres ‚Äîtu risa, tu calma, esa forma de mirar‚Äî como quien guarda un tesoro del tiempo. Si pudiera, la atar√≠a a tus manos para que la lleves cuando quieras recordar que alguien te encuentra perfecta.">
          <div class="thumb">1</div>
          <div class="meta">
            <div class="title">Dedicada a ella</div>
            <div class="sub">A la chica m√°s linda, la que merece cada verso y cada suspiro.</div>
          </div>
          <div class="duration">3:45</div>
        </div>
        
        <!-- Segunda canci√≥n: Mensaje sobre nosotros -->
        <div class="track" 
             data-src="https://www.youtube.com/embed/C0OXsyR2mMM?enablejsapi=1&controls=0" 
             data-title="Mensaje sobre nosotros" 
             data-subtitle="Un mensaje m√≠o, sincero: lo que pens√© de los dos hecho canci√≥n."
             data-duration="4:12"
             data-lyrics="Es una cancion que solo que la cancion demuestra de los dos por esa razon lo puse por que es lo que me reecuerda">
          <div class="thumb">2</div>
          <div class="meta">
            <div class="title">Mensaje sobre nosotros</div>
            <div class="sub">Un mensaje m√≠o, sincero: lo que pens√© de los dos hecho canci√≥n.</div>
          </div>
          <div class="duration">4:12</div>
        </div>
        
        <!-- Tercera canci√≥n: Para sentirme c√≥modo -->
        <div class="track" 
             data-src="https://www.youtube.com/embed/Chs2bmqzyUs?enablejsapi=1&controls=0" 
             data-title="Para sentirme c√≥modo" 
             data-subtitle="Una canci√≥n antigua para perderse, c√≥moda y c√°lida como un hogar."
             data-duration="3:58"
             data-lyrics="Esta es la melod√≠a que me devuelve a tardes de calma, a una sensaci√≥n de hogar que no necesita palabras. Suena a fotos en blanco y negro, a ventanas abiertas y a recuerdos que se estiran como una manta. La elijo para sentirme seguro, para recordar que hay cosas ‚Äîpeque√±as, lentas‚Äî que nos reconcilian con nosotros mismos. Ponla, cierra los ojos y deja que el tiempo sea suave.">
          <div class="thumb">3</div>
          <div class="meta">
            <div class="title">Para sentirme c√≥modo</div>
            <div class="sub">Una canci√≥n antigua para perderse, c√≥moda y c√°lida como un hogar.</div>
          </div>
          <div class="duration">3:58</div>
        </div>
      </div>
    </div>
    
    <!-- Pie de p√°gina mejorado con m√°s detalles -->
    <footer>
      <p>Guarda este archivo en tu dispositivo y √°brelo en tu navegador. Para mejor experiencia, <strong>usa Chrome o Firefox</strong>.</p>
      <p>Si abres el archivo localmente (file://), es posible que el autoplay est√© bloqueado por seguridad. En ese caso, <a href="#" onclick="enableAutoplay(); return false;">haz clic aqu√≠</a> o presiona el bot√≥n de reproducir.</p>
      <p>Creado con ‚ù§Ô∏è para ti - Un regalo musical que guarda nuestros momentos m√°s especiales.</p>
      <p><i class="fas fa-music"></i> <strong>Tres canciones</strong> que representan nuestra historia, nuestra conexi√≥n y nuestros momentos de calma juntos.</p>
    </footer>
  </div>
  
  <!-- Bot√≥n de acci√≥n flotante mejorado -->
  <button class="fab" id="fabButton" title="Mostrar/Ocultar letras">
    <i class="fas fa-music"></i>
  </button>
  
  <!-- Contenedor para notificaciones mejorado -->
  <div class="toast" id="toast">
    <i class="fas fa-heart"></i>
    <span id="toastMessage">¬°Disfruta de nuestra selecci√≥n musical especial! ‚ù§Ô∏è</span>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Elementos del DOM mejorados
      const iframe = document.getElementById('playerFrame');
      const playBtn = document.getElementById('play');
      const pauseBtn = document.getElementById('pause');
      const prevBtn = document.getElementById('prev');
      const nextBtn = document.getElementById('next');
      const volumeSlider = document.getElementById('volume');
      const volumeIcon = document.getElementById('volumeIcon');
      const progressBar = document.getElementById('progressBar');
      const progressFill = document.getElementById('progressFill');
      const currentTimeEl = document.getElementById('currentTime');
      const durationEl = document.getElementById('duration');
      const tracks = Array.from(document.querySelectorAll('.track'));
      const loadingSpinner = document.getElementById('loadingSpinner');
      const currentTitleEl = document.getElementById('currentTitle');
      const currentSubtitleEl = document.getElementById('currentSubtitle');
      const lyricsContainer = document.getElementById('lyricsContainer');
      const lyricsTitleEl = document.getElementById('lyricsTitle');
      const lyricsContentEl = document.getElementById('lyricsContent');
      const closeLyricsBtn = document.getElementById('closeLyrics');
      const fabButton = document.getElementById('fabButton');
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toastMessage');
      const vizBars = document.querySelectorAll('.viz-bar');
      
      // Variables de estado mejoradas
      let currentTrackIndex = 0;
      let isPlaying = false;
      let playbackTime = 0;
      let duration = 225; // Duraci√≥n predeterminada en segundos (3:45)
      let lastVolume = 75;
      let isMuted = false;
      let audioVisualizerInterval;
      
      // Formatear segundos a MM:SS mejorado
      function formatTime(seconds) {
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, '0')}`;
      }
      
      // Actualizar la barra de progreso mejorado
      function updateProgress() {
        if (duration > 0) {
          const progressPercent = (playbackTime / duration) * 100;
          progressFill.style.width = `${progressPercent}%`;
          currentTimeEl.textContent = formatTime(playbackTime);
          durationEl.textContent = formatTime(duration);
        }
      }
      
      // Actualizar visualizador de audio
      function updateAudioVisualizer() {
        vizBars.forEach(bar => {
          const height = Math.floor(Math.random() * 100) + 1;
          bar.style.height = `${isPlaying ? height : 10}%`;
        });
      }
      
      // Mostrar notificaci√≥n mejorada
      function showToast(message, duration = 3000) {
        toastMessage.textContent = message;
        toast.classList.add('show');
        
        setTimeout(() => {
          toast.classList.remove('show');
        }, duration);
      }
      
      // Crear part√≠culas de brillo al interactuar
      function createSparkle(x, y) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = `${x}px`;
        sparkle.style.top = `${y}px`;
        sparkle.style.width = `${Math.random() * 8 + 2}px`;
        sparkle.style.height = sparkle.style.width;
        sparkle.style.background = `rgba(255, 215, 0, ${Math.random() * 0.5 + 0.3})`;
        document.body.appendChild(sparkle);
        
        // Animar la part√≠cula
        const animation = sparkle.animate([
          { opacity: 0.8, transform: 'translate(0, 0) scale(0)' },
          { opacity: 0, transform: `translate(${(Math.random() - 0.5) * 40}px, ${-30 - Math.random() * 20}px) scale(1)` }
        ], {
          duration: 800 + Math.random() * 400,
          easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
        });
        
        animation.onfinish = () => sparkle.remove();
      }
      
      // Cargar track por √≠ndice mejorado
      function loadTrack(index, autoplay = true) {
        // Validar √≠ndice
        if (index < 0) index = tracks.length - 1;
        if (index >= tracks.length) index = 0;
        
        currentTrackIndex = index;
        const track = tracks[index];
        const src = track.dataset.src;
        
        // Agregar par√°metro origin para resolver error 153
        const origin = window.location.origin === 'null' ? 'http://localhost' : window.location.origin;
        const finalSrc = `${src}&origin=${encodeURIComponent(origin)}`;
        
        // Actualizar estado de reproducci√≥n
        isPlaying = autoplay;
        
        // Actualizar interfaz
        highlightCurrentTrack();
        updateNowPlaying();
        
        // Mostrar spinner de carga
        loadingSpinner.classList.add('show');
        
        // Actualizar iframe
        iframe.src = finalSrc + (autoplay ? '&autoplay=1' : '');
        
        // Establecer duraci√≥n
        duration = parseDuration(track.dataset.duration);
        updateProgress();
        
        // Ocultar spinner despu√©s de un retraso
        setTimeout(() => {
          loadingSpinner.classList.remove('show');
          
          // Mostrar mensaje de transici√≥n
          showToast(`üéµ Reproduciendo: ${track.dataset.title}`, 2500);
          
          // Efecto visual
          document.querySelectorAll('.pulse-animation').forEach(el => {
            el.classList.add('pulse-animation');
            setTimeout(() => el.classList.remove('pulse-animation'), 2000);
          });
        }, 1800);
        
        // Actualizar letras
        updateLyrics();
        
        // Actualizar visualizador
        if (audioVisualizerInterval) clearInterval(audioVisualizerInterval);
        audioVisualizerInterval = setInterval(updateAudioVisualizer, 100);
      }
      
      // Resaltar la pista actual mejorado
      function highlightCurrentTrack() {
        tracks.forEach((track, index) => {
          track.classList.toggle('active', index === currentTrackIndex);
          
          if (index === currentTrackIndex) {
            // Efecto de entrada suave
            track.style.animation = 'fadeIn 0.5s ease';
            setTimeout(() => {
              track.style.animation = '';
            }, 500);
          }
        });
      }
      
      // Actualizar la secci√≥n "Now Playing" mejorado
      function updateNowPlaying() {
        const currentTrack = tracks[currentTrackIndex];
        if (currentTrack) {
          // Efecto typewriter para el t√≠tulo
          currentTitleEl.textContent = '';
          currentTitleEl.classList.add('typewriter');
          const titleText = currentTrack.dataset.title;
          
          let i = 0;
          const typeWriter = setInterval(() => {
            if (i < titleText.length) {
              currentTitleEl.textContent += titleText.charAt(i);
              i++;
            } else {
              clearInterval(typeWriter);
              setTimeout(() => {
                currentTitleEl.classList.remove('typewriter');
              }, 1000);
            }
          }, 60);
          
          // Actualizar subt√≠tulo con fade
          currentSubtitleEl.style.opacity = '0';
          setTimeout(() => {
            currentSubtitleEl.textContent = currentTrack.dataset.subtitle;
            currentSubtitleEl.style.opacity = '1';
          }, 300);
        }
      }
      
      // Parsear duraci√≥n en formato MM:SS a segundos mejorado
      function parseDuration(timeStr) {
        if (!timeStr) return 225; // valor por defecto
        
        const parts = timeStr.split(':').map(Number);
        if (parts.length === 2) {
          return parts[0] * 60 + parts[1];
        }
        return 225;
      }
      
      // Actualizar letras de la canci√≥n mejorado
      function updateLyrics() {
        const currentTrack = tracks[currentTrackIndex];
        if (currentTrack) {
          lyricsTitleEl.textContent = `üéµ ${currentTrack.dataset.title}`;
          lyricsContentEl.innerHTML = currentTrack.dataset.lyrics
            .replace(/\\n/g, '<br>')
            .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
            .replace(/--(.*?)--/g, '<em>$1</em>');
        }
      }
      
      // Habilitar autoplay (soluci√≥n para navegadores)
      window.enableAutoplay = function() {
        iframe.src = iframe.src + '&autoplay=1';
        showToast('‚ú® Autoplay habilitado. Disfruta de la m√∫sica.', 2500);
      };
      
      // Helper para enviar comandos al reproductor YouTube mejorado
      function postCommand(command, args = []) {
        try {
          iframe.contentWindow.postMessage(JSON.stringify({
            event: 'command',
            func: command,
            args: args
          }), '*');
          
          // Efecto visual en botones
          if (command === 'playVideo') {
            playBtn.style.transform = 'scale(0.95)';
            setTimeout(() => playBtn.style.transform = '', 150);
          } else if (command === 'pauseVideo') {
            pauseBtn.style.transform = 'scale(0.95)';
            setTimeout(() => pauseBtn.style.transform = '', 150);
          }
        } catch (error) {
          console.error('Error enviando comando a YouTube:', error);
          showToast('‚ö†Ô∏è Error de reproducci√≥n. Intenta recargar la p√°gina.', 3500);
        }
      }
      
      // Simular actualizaci√≥n de tiempo mejorado
      function simulatePlayback() {
        if (isPlaying) {
          playbackTime = Math.min(playbackTime + 1, duration);
          updateProgress();
          
          // Actualizar visualizador de audio
          if (Math.random() > 0.7) {
            updateAudioVisualizer();
          }
          
          if (playbackTime >= duration - 1) {
            // Canci√≥n terminada, pasar a la siguiente con fade suave
            setTimeout(() => {
              let newIndex = currentTrackIndex + 1;
              if (newIndex >= tracks.length) newIndex = 0;
              loadTrack(newIndex, true);
            }, 500);
          }
        }
      }
      
      // Temporizador para simular reproducci√≥n
      setInterval(simulatePlayback, 1000);
      
      /* 
       * ===========================================================
       * EVENTOS DE INTERACCI√ìN MEJORADOS
       * ===========================================================
       */
       
      // Botones de reproducci√≥n mejorados
      playBtn.addEventListener('click', (e) => {
        createSparkle(e.clientX, e.clientY);
        postCommand('playVideo');
        isPlaying = true;
        showToast('‚ñ∂Ô∏è M√∫sica en reproducci√≥n', 1500);
      });
      
      pauseBtn.addEventListener('click', (e) => {
        createSparkle(e.clientX, e.clientY);
        postCommand('pauseVideo');
        isPlaying = false;
        showToast('‚è∏Ô∏è M√∫sica en pausa', 1500);
      });
      
      prevBtn.addEventListener('click', (e) => {
        createSparkle(e.clientX, e.clientY);
        let newIndex = currentTrackIndex - 1;
        loadTrack(newIndex, true);
        showToast('‚è™ Canci√≥n anterior', 1500);
      });
      
      nextBtn.addEventListener('click', (e) => {
        createSparkle(e.clientX, e.clientY);
        let newIndex = currentTrackIndex + 1;
        if (newIndex >= tracks.length) newIndex = 0;
        loadTrack(newIndex, true);
        showToast('‚è© Siguiente canci√≥n', 1500);
      });
      
      // Control de volumen mejorado con mute toggle
      volumeSlider.addEventListener('input', (e) => {
        const volume = parseInt(e.target.value);
        postCommand('setVolume', [volume]);
        lastVolume = volume;
        
        // Actualizar icono de volumen
        if (volume === 0) {
          volumeIcon.innerHTML = '<i class="fas fa-volume-mute"></i>';
          volumeIcon.classList.add('active');
          isMuted = true;
        } else if (volume < 30) {
          volumeIcon.innerHTML = '<i class="fas fa-volume-down"></i>';
          volumeIcon.classList.remove('active');
        } else {
          volumeIcon.innerHTML = '<i class="fas fa-volume-up"></i>';
          volumeIcon.classList.remove('active');
        }
      });
      
      volumeIcon.addEventListener('click', () => {
        if (isMuted) {
          // Restaurar volumen
          volumeSlider.value = lastVolume || 75;
          postCommand('setVolume', [lastVolume || 75]);
          volumeIcon.innerHTML = lastVolume < 30 ? 
            '<i class="fas fa-volume-down"></i>' : 
            '<i class="fas fa-volume-up"></i>';
          isMuted = false;
          showToast(`üîä Volumen restaurado: ${lastVolume}%`, 1500);
        } else {
          // Silenciar
          lastVolume = parseInt(volumeSlider.value);
          volumeSlider.value = 0;
          postCommand('setVolume', [0]);
          volumeIcon.innerHTML = '<i class="fas fa-volume-mute"></i>';
          volumeIcon.classList.add('active');
          isMuted = true;
          showToast('üîá Volumen silenciado', 1500);
        }
      });
      
      // Barra de progreso mejorada con indicador tooltip
      let isDragging = false;
      
      progressBar.addEventListener('mousedown', (e) => {
        isDragging = true;
        updateProgressBar(e);
      });
      
      document.addEventListener('mousemove', (e) => {
        if (isDragging) {
          updateProgressBar(e);
        }
      });
      
      document.addEventListener('mouseup', () => {
        isDragging = false;
      });
      
      function updateProgressBar(e) {
        if (!isDragging) return;
        
        const rect = progressBar.getBoundingClientRect();
        const clickPosition = e.clientX - rect.left;
        const percent = Math.max(0, Math.min(1, clickPosition / rect.width));
        playbackTime = percent * duration;
        updateProgress();
        
        // Mostrar tooltip temporal
        if (!document.getElementById('progress-tooltip')) {
          const tooltip = document.createElement('div');
          tooltip.id = 'progress-tooltip';
          tooltip.style.position = 'absolute';
          tooltip.style.top = `${rect.top - 40}px`;
          tooltip.style.left = `${e.clientX - 25}px`;
          tooltip.style.background = 'rgba(0, 0, 0, 0.8)';
          tooltip.style.color = 'white';
          tooltip.style.padding = '4px 8px';
          tooltip.style.borderRadius = '12px';
          tooltip.style.fontSize = '12px';
          tooltip.style.zIndex = '1000';
          tooltip.textContent = formatTime(playbackTime);
          document.body.appendChild(tooltip);
          
          setTimeout(() => {
            tooltip.remove();
          }, 1000);
        }
      }
      
      // Seleccionar pista de la lista mejorada
      tracks.forEach((track, index) => {
        track.addEventListener('click', (e) => {
          // Efecto de onda al hacer clic
          const ripple = document.createElement('span');
          ripple.className = 'ripple';
          const rect = track.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          const x = e.clientX - rect.left - size / 2;
          const y = e.clientY - rect.top - size / 2;
          
          ripple.style.width = ripple.style.height = `${size}px`;
          ripple.style.left = `${x}px`;
          ripple.style.top = `${y}px`;
          track.appendChild(ripple);
          
          setTimeout(() => {
            ripple.remove();
          }, 600);
          
          loadTrack(index, true);
          createSparkle(e.clientX, e.clientY);
        });
        
        // Efectos hover mejorados
        track.addEventListener('mouseenter', () => {
          track.style.boxShadow = '0 8px 25px rgba(255, 77, 141, 0.25)';
          const thumb = track.querySelector('.thumb');
          thumb.style.transform = 'scale(1.1) rotate(5deg)';
        });
        
        track.addEventListener('mouseleave', () => {
          track.style.boxShadow = '';
          const thumb = track.querySelector('.thumb');
          thumb.style.transform = '';
        });
      });
      
      // Botones de letras mejorados
      closeLyricsBtn.addEventListener('click', (e) => {
        createSparkle(e.clientX, e.clientY);
        lyricsContainer.classList.remove('show');
        showToast('üìñ Letras ocultas', 1200);
      });
      
      fabButton.addEventListener('click', (e) => {
        createSparkle(e.clientX, e.clientY);
        if (lyricsContainer.classList.contains('show')) {
          lyricsContainer.classList.remove('show');
          showToast('üí´ Letras ocultas', 1200);
        } else {
          lyricsContainer.classList.add('show');
          updateLyrics();
          showToast('‚ú® Mostrando letras', 1200);
        }
      });
      
      // Doble clic para mostrar letras mejorado
      tracks.forEach(track => {
        track.addEventListener('dblclick', (e) => {
          createSparkle(e.clientX, e.clientY);
          lyricsContainer.classList.add('show');
          updateLyrics();
          showToast('‚ù§Ô∏è Letras de la canci√≥n', 1500);
        });
      });
      
      // Inicializar mejorado
      highlightCurrentTrack();
      updateNowPlaying();
      updateLyrics();
      updateAudioVisualizer();
      
      // Configurar volumen inicial mejorado
      volumeSlider.value = 75;
      postCommand('setVolume', [75]);
      
      // Iniciar visualizador de audio
      audioVisualizerInterval = setInterval(updateAudioVisualizer, 150);
      
      // Mensaje de consola personalizado mejorado
      console.log('%c‚ù§Ô∏è REPRODUCTOR ROM√ÅNTICO PERSONALIZADO ‚ù§Ô∏è', 'color: #ff4d8d; font-size: 26px; font-weight: bold; text-shadow: 0 0 10px rgba(255, 77, 141, 0.7);');
      console.log('%c‚ú® Tres canciones especiales creadas solo para ti', 'color: #ffc86a; font-size: 16px; font-weight: 500;');
      console.log('');
      console.log('%c1. Dedicada a ella', 'color: #ff9ec5; font-weight: bold;');
      console.log('   A la chica m√°s linda, la que merece cada verso y cada suspiro.');
      console.log('');
      console.log('%c2. Mensaje sobre nosotros', 'color: #a0d8f0; font-weight: bold;');
      console.log('   Un mensaje m√≠o, sincero: lo que pens√© de los dos hecho canci√≥n.');
      console.log('');
      console.log('%c3. Para sentirme c√≥modo (canci√≥n antigua)', 'color: #d4a6b1; font-weight: bold;');
      console.log('   Una canci√≥n antigua para perderse, c√≥moda y c√°lida como un hogar.');
      console.log('');
      console.log('%cüåü Instrucciones de uso:', 'color: #88d0e0; font-weight: bold; text-decoration: underline;');
      console.log('- Doble clic en cualquier canci√≥n para ver su letra completa');
      console.log('- Usa los controles para navegar entre canciones');
      console.log('- Ajusta el volumen con el control deslizante o haz clic en el icono');
      console.log('- Presiona el bot√≥n flotante (‚ô´) para mostrar/ocultar letras');
      console.log('');
      console.log('%cüíñ Este reproductor fue creado con mucho amor para ti', 'color: #ff4d8d; font-weight: bold; background: rgba(30, 10, 40, 0.7); padding: 8px; border-radius: 8px;');
      
      // Efecto de fade-in mejorado para los elementos
      document.querySelectorAll('.track, .controls, .progress-container, .audio-visualizer').forEach((el, index) => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(25px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        
        setTimeout(() => {
          el.style.opacity = '1';
          el.style.transform = 'translateY(0)';
        }, 400 + index * 180);
      });
      
      // Mostrar notificaci√≥n inicial mejorada
      setTimeout(() => {
        showToast('‚ú® ¬°Bienvenido! Selecciona una canci√≥n para comenzar esta experiencia rom√°ntica ‚ù§Ô∏è', 4000);
      }, 1000);
      
      // Efecto de animaci√≥n en el t√≠tulo principal
      setTimeout(() => {
        document.querySelector('h1').style.animation = 'glow 3s ease-in-out infinite alternate, breathe 8s infinite';
      }, 500);
      
      // Limpiar intervalos al cerrar la p√°gina
      window.addEventListener('beforeunload', () => {
        if (audioVisualizerInterval) clearInterval(audioVisualizerInterval);
      });
    });
  </script>
</body>
</html>
